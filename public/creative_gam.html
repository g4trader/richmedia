<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="ad.size" content="width=970,height=250">
    <title>Vestibular 970x250</title>
    
    <!-- Google Ad Manager ClickTag -->
    <script type="text/javascript">
        var clickTag = "https://www.suauniversidade.com.br/vestibular"; 
    </script>

    <!-- Tailwind CSS Config to ensure Dynamic Classes Work -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Roboto', 'sans-serif'],
                        display: ['Montserrat', 'sans-serif'],
                    },
                    animation: {
                        'bounce-subtle': 'bounce-subtle 2s infinite',
                    }
                }
            },
            // CRITICAL: Safelist the dynamic color classes so Tailwind generates them
            safelist: [
                'from-blue-900', 'to-blue-600',
                'from-red-900', 'to-red-700',
                'from-emerald-900', 'to-emerald-600',
                'from-gray-900', 'to-gray-700',
                'from-indigo-900', 'to-indigo-600',
                'from-purple-900', 'to-purple-600',
                'text-yellow-400', 'fill-yellow-400',
                'bg-yellow-400', 'hover:bg-yellow-300',
                'group-hover:translate-x-1',
                'border-white/20', 'border-white/30',
                'right-48', 'bottom-8', 'w-52', 'h-52', 'right-8', // Positioning classes
                'line-clamp-2' // Text clamping
            ]
        }
    </script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { margin: 0; padding: 0; overflow: hidden; font-family: 'Roboto', sans-serif; background: #111827; }
        
        /* --- Animations --- */
        
        /* Slide Fade */
        .slide { 
            opacity: 0; 
            transition: opacity 700ms ease-in-out; 
            z-index: 0; 
            pointer-events: none;
        }
        .slide.active { 
            opacity: 1; 
            z-index: 10; 
            pointer-events: auto;
        }
        
        /* Text Slide In */
        .slide-content { 
            transform: translateX(-2.5rem); 
            transition: transform 700ms ease-in-out 100ms; 
        }
        .slide.active .slide-content { 
            transform: translateX(0); 
        }
        
        /* Image Scale/Fade - FIX: Combine translateY with scale to preserve centering */
        .slide-image-wrapper { 
            transform: translateY(-50%) scale(0.75); 
            opacity: 0; 
            transition: all 1000ms ease-in-out; 
        }
        .slide.active .slide-image-wrapper { 
            transform: translateY(-50%) scale(1); 
            opacity: 1; 
        }

        /* CTA Bounce */
        @keyframes bounce-subtle {
            0%, 100% { transform: translateY(-5%); animation-timing-function: cubic-bezier(0.8,0,1,1); }
            50% { transform: translateY(0); animation-timing-function: cubic-bezier(0,0,0.2,1); }
        }
        .slide.active .cta-button {
            animation: bounce-subtle 2s infinite;
        }

        /* Progress Bar */
        @keyframes progress {
            0% { transform: scaleX(0); }
            100% { transform: scaleX(1); }
        }
        .animate-progress {
            animation: progress 5000ms linear infinite;
            transform-origin: left;
        }
        .paused .animate-progress {
            animation-play-state: paused;
        }

        /* Modal */
        .modal-backdrop { 
            opacity: 0; 
            pointer-events: none; 
            transition: opacity 200ms ease-in-out; 
        }
        .modal-backdrop.open { 
            opacity: 1; 
            pointer-events: auto; 
        }
        
        @keyframes zoom-in {
            0% { opacity: 0; transform: scale(0.95); }
            100% { opacity: 1; transform: scale(1); }
        }
        .animate-zoom-in {
            animation: zoom-in 300ms ease-out forwards;
        }
    </style>
</head>
<body>

    <!-- Main Container -->
    <!-- Added click handler for ClickTag on the background area -->
    <div id="banner-root" class="relative w-[970px] h-[250px] bg-gray-900 overflow-hidden group cursor-pointer" 
         onmouseenter="handleMouseEnter()" 
         onmouseleave="handleMouseLeave()"
         onclick="handleBackgroundClick(event)">
        
        <!-- Slides Container -->
        <div id="slides-container" class="absolute inset-0 w-full h-full">
            <!-- Injected via JS -->
        </div>

        <!-- Controls: Arrows -->
        <button onclick="prevSlide(event)" class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/60 text-white p-2 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-30 cursor-pointer">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><path d="m15 18-6-6 6-6"/></svg>
        </button>

        <button onclick="nextSlide(event)" class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/60 text-white p-2 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-30 cursor-pointer">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><path d="m9 18 6-6-6-6"/></svg>
        </button>

        <!-- Controls: Dots -->
        <div id="dots-container" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-30">
            <!-- Injected via JS -->
        </div>

        <!-- Progress Bar -->
        <div id="progress-bar" class="absolute bottom-0 left-0 h-1 bg-yellow-400/50 z-40 w-full scale-x-0 animate-progress"></div>
    </div>

    <!-- Lead Modal -->
    <div id="modal" class="modal-backdrop fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden" onclick="event.stopPropagation()">
            
            <!-- Close Button -->
            <button onclick="closeModal()" class="absolute top-4 right-4 text-white/70 hover:text-white z-50 cursor-pointer">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
            </button>

            <!-- Header -->
            <div class="bg-blue-900 p-6 text-white">
                <h3 class="font-display font-bold text-2xl">Garanta sua Bolsa</h3>
                <p class="text-blue-200 text-sm mt-1">Interesse em: <span id="modal-course-name" class="font-bold text-white">...</span></p>
            </div>

            <!-- Body -->
            <div class="p-6" id="modal-body">
                <!-- Form -->
                <form id="lead-form" onsubmit="submitForm(event)" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nome Completo</label>
                        <input required type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all" placeholder="Seu nome" />
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">WhatsApp</label>
                        <input required type="tel" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all" placeholder="(00) 90000-0000" />
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">E-mail</label>
                        <input required type="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all" placeholder="seu@email.com" />
                    </div>
                    <button 
                        type="submit" 
                        id="submit-btn"
                        class="w-full bg-yellow-400 hover:bg-yellow-300 text-black font-bold py-3 rounded-lg shadow-md transform transition-all active:scale-95 flex justify-center items-center cursor-pointer"
                    >
                        QUERO ME INSCREVER
                    </button>
                    <p class="text-xs text-center text-gray-400 mt-2">
                        Ao enviar, você concorda com nossa Política de Privacidade.
                    </p>
                </form>

                <!-- Success State -->
                <div id="success-view" class="hidden flex-col items-center justify-center py-8 text-center space-y-4 animate-zoom-in">
                    <div class="w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-10 h-10"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m22 4-12 12-4-4"/></svg>
                    </div>
                    <div>
                        <h4 class="text-xl font-bold text-gray-900">Inscrição Realizada!</h4>
                        <p class="text-gray-500">Nossos consultores entrarão em contato em breve.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data from constants.ts
        const OFFERS = [
            {
                id: '1',
                course: 'Medicina',
                headline: 'O Futuro da Medicina Começa Aqui',
                subtitle: 'Laboratórios de ponta e hospital escola próprio.',
                discount: 'Bolsas de até 100%',
                ctaText: 'Inscreva-se Agora',
                colorFrom: 'from-blue-900',
                colorTo: 'to-blue-600',
                image: 'https://picsum.photos/400/250?random=1'
            },
            {
                id: '2',
                course: 'Direito',
                headline: 'Defenda Seus Ideais',
                subtitle: 'Corpo docente formado por mestres e doutores.',
                discount: '50% de Desconto',
                ctaText: 'Quero Minha Vaga',
                colorFrom: 'from-red-900',
                colorTo: 'to-red-700',
                image: 'https://picsum.photos/400/250?random=2'
            },
            {
                id: '3',
                course: 'Engenharia de Software',
                headline: 'Programe o Mundo',
                subtitle: 'Alta empregabilidade e parcerias com big techs.',
                discount: 'Matrícula Grátis',
                ctaText: 'Saiba Mais',
                colorFrom: 'from-emerald-900',
                colorTo: 'to-emerald-600',
                image: 'https://picsum.photos/400/250?random=3'
            }
        ];

        let currentIndex = 0;
        let intervalId = null;
        let isPaused = false;

        const root = document.getElementById('banner-root');
        const slidesContainer = document.getElementById('slides-container');
        const dotsContainer = document.getElementById('dots-container');
        let progressBar = document.getElementById('progress-bar');
        const modal = document.getElementById('modal');
        const modalCourseName = document.getElementById('modal-course-name');
        const modalBody = document.getElementById('modal-body');
        const leadForm = document.getElementById('lead-form');
        const successView = document.getElementById('success-view');
        const submitBtn = document.getElementById('submit-btn');

        // SVG Icons
        const ICON_STAR = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 text-yellow-400 fill-yellow-400"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>`;
        const ICON_CAP = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg>`;
        const ICON_ARROW = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 group-hover:translate-x-1 transition-transform"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>`;
        const ICON_LOADER = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 animate-spin"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>`;

        function init() {
            renderSlides();
            renderDots();
            startAutoPlay();
        }

        function renderSlides() {
            OFFERS.forEach((offer, index) => {
                const slide = document.createElement('div');
                slide.className = `slide absolute inset-0 w-full h-full ${index === 0 ? 'active' : ''}`;
                slide.dataset.index = index;
                
                // We use style for the pattern to ensure it loads even if Tailwind arbitrary value parsing is slow
                slide.innerHTML = `
                    <div class="absolute inset-0 bg-gradient-to-r ${offer.colorFrom} ${offer.colorTo} opacity-95"></div>
                    <div class="absolute inset-0 opacity-20 mix-blend-overlay" style="background-image: url('https://www.transparenttextures.com/patterns/cubes.png');"></div>
                    
                    <div class="relative z-20 h-full grid grid-cols-12 gap-4 items-center px-10 text-white">
                        <!-- Left: Text Content (Cols 1-7) -->
                        <div class="col-span-7 flex flex-col justify-center space-y-2 slide-content">
                            <div class="inline-flex items-center space-x-2 bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full w-fit mb-2 border border-white/30">
                                ${ICON_STAR}
                                <span class="text-xs font-bold uppercase tracking-wider text-yellow-100">${offer.discount}</span>
                            </div>
                            <h2 class="font-display font-extrabold text-4xl leading-tight drop-shadow-lg line-clamp-2 h-[3.6rem]">
                                ${offer.headline}
                            </h2>
                            <p class="font-light text-lg text-gray-100 max-w-lg leading-snug line-clamp-2">
                                ${offer.subtitle}
                            </p>
                            <div class="flex items-center space-x-2 text-sm font-medium opacity-80 mt-1">
                                ${ICON_CAP}
                                <span class="uppercase tracking-widest">${offer.course}</span>
                            </div>
                        </div>
                        
                        <!-- Right: Image & CTA (Cols 8-12) - Fixed Absolute Positioning -->
                        <div class="col-span-5 h-full relative">
                            <!-- Image Mask: Fixed Absolute, class handles centering via CSS -->
                            <div class="slide-image-wrapper absolute right-8 top-1/2 w-52 h-52 rounded-full border-4 border-white/20 overflow-hidden shadow-2xl z-10">
                                <img src="${offer.image}" alt="${offer.course}" class="w-full h-full object-cover"/>
                            </div>
                            <!-- CTA Button: Fixed Absolute (z-20 to sit on top) -->
                            <button onclick="openModal(event, '${index}')" class="cta-button absolute bottom-8 right-48 bg-yellow-400 hover:bg-yellow-300 text-black font-black text-lg py-3 px-8 rounded-full shadow-lg shadow-black/30 flex items-center space-x-2 group transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 active:scale-95 cursor-pointer z-20">
                                <span class="whitespace-nowrap">${offer.ctaText}</span>
                                ${ICON_ARROW}
                            </button>
                        </div>
                    </div>
                `;
                slidesContainer.appendChild(slide);
            });
        }

        function renderDots() {
            dotsContainer.innerHTML = '';
            OFFERS.forEach((_, index) => {
                const dot = document.createElement('button');
                dot.onclick = (e) => { e.stopPropagation(); goToSlide(index); };
                dot.className = index === currentIndex 
                    ? 'w-2 h-2 rounded-full transition-all duration-300 bg-white w-6 cursor-pointer' 
                    : 'w-2 h-2 rounded-full transition-all duration-300 bg-white/40 hover:bg-white/70 cursor-pointer';
                dotsContainer.appendChild(dot);
            });
        }

        function updateClasses() {
            // Update Slides
            Array.from(slidesContainer.children).forEach((slide, idx) => {
                if (idx === currentIndex) slide.classList.add('active');
                else slide.classList.remove('active');
            });

            // Update Dots
            Array.from(dotsContainer.children).forEach((dot, idx) => {
                dot.className = idx === currentIndex 
                    ? 'w-2 h-2 rounded-full transition-all duration-300 bg-white w-6 cursor-pointer' 
                    : 'w-2 h-2 rounded-full transition-all duration-300 bg-white/40 hover:bg-white/70 cursor-pointer';
            });

            // Reset Progress Bar Animation
            const newBar = progressBar.cloneNode(true);
            if (progressBar.parentNode) {
                progressBar.parentNode.replaceChild(newBar, progressBar);
                progressBar = newBar; 
            }
        }

        function nextSlide(e) {
            if (e) e.stopPropagation();
            currentIndex = (currentIndex + 1) % OFFERS.length;
            updateClasses();
            startAutoPlay();
        }

        function prevSlide(e) {
            if (e) e.stopPropagation();
            currentIndex = (currentIndex - 1 + OFFERS.length) % OFFERS.length;
            updateClasses();
            startAutoPlay();
        }

        function goToSlide(index) {
            currentIndex = index;
            updateClasses();
            startAutoPlay();
        }

        function startAutoPlay() {
            if (intervalId) clearInterval(intervalId);
            intervalId = setInterval(() => {
                if (!isPaused && !modal.classList.contains('open')) {
                    nextSlide();
                }
            }, 5000);
        }

        function handleMouseEnter() {
            isPaused = true;
            root.classList.add('paused');
        }

        function handleMouseLeave() {
            if (!modal.classList.contains('open')) {
                isPaused = false;
                root.classList.remove('paused');
            }
        }

        // Handle background click for generic clickTag
        function handleBackgroundClick(e) {
            // If the click target is a button or inside a button, do nothing (handled by specific logic)
            if (e.target.closest('button') || e.target.closest('#modal')) {
                return;
            }
            
            // Otherwise, trigger ClickTag
            if (typeof window.clickTag !== 'undefined') {
                window.open(window.clickTag, '_blank');
            } else {
                console.log("ClickTag triggered");
            }
        }

        function openModal(e, indexStr) {
            e.stopPropagation(); // Prevent background clickTag
            const index = parseInt(indexStr);
            const offer = OFFERS[index];
            modalCourseName.innerText = offer.course;
            modal.classList.add('open');
            isPaused = true;
        }

        function closeModal() {
            modal.classList.remove('open');
            setTimeout(() => {
                successView.classList.add('hidden');
                successView.classList.remove('flex');
                leadForm.classList.remove('hidden');
                leadForm.reset();
                isPaused = false;
                root.classList.remove('paused');
            }, 300);
        }

        function submitForm(e) {
            e.preventDefault();
            const originalContent = submitBtn.innerHTML;
            submitBtn.disabled = true;
            submitBtn.innerHTML = `${ICON_LOADER} <span class="ml-2">Enviando...</span>`;
            
            setTimeout(() => {
                leadForm.classList.add('hidden');
                successView.classList.remove('hidden');
                successView.classList.add('flex');
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalContent;
                setTimeout(closeModal, 2000);
            }, 1500);
        }

        init();
    </script>
</body>
</html>